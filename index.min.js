let c=new Set,t=localStorage,o=()=>t.ldt??matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",r=document,n=(e=>(e??=r.head.insertAdjacentElement("beforeend",Object.assign(r.createElement("meta"),{name:"color-scheme",content:o()})),typeof t.ldt<"u"&&t.ldt!==e.content&&(e.content=t.ldt),e))(r.querySelector('[name="color-scheme"]')),s=()=>requestAnimationFrame(()=>c.forEach(e=>e.e())),l=!1;class i extends HTMLElement{constructor(){super(),l||=this.getAttribute("reflect")==="local"}static define(a="light-dark-toggle"){window.customElements.define(a,this)}e(){this.innerHTML=`<button>${n.content}</button>`}t=()=>{n.content=n.content==="dark"?"light":"dark",l&&(t.ldt=n.content),s()};connectedCallback(){this.addEventListener("click",this.t,!0),c.add(this),this.e()}disconnectedCallback(){this.removeEventListener("click",this.t,!0),c.delete(this)}}export{i as LightDarkToggle};
//# sourceMappingURL=index.min.js.map
